[
{
  "description": "regclean before tokenization",
  "name": "regex",
  "ext" : "pre_tok",
  "list": [
    {
      "description": "special char",
      "action": "delete",
      "pattern": "\\u00A0",
      "log": true
      },
    {
      "description": "escaped ph",
      "action": "replace",
      "pattern": "\\\\{(\\d+)\\\\}",
      "repl": "{\\1}"
      },
    {
      "description": "phtag",
      "action": "replace",
      "pattern": "<ph.*?>({\\d+})</ph>",
      "repl": " \\1 "
      },
    {
      "description": "URL",
      "action": "replace",
      "pattern": "((?#Protocol)(?:(?:ht|f)tp(?:s?)\\:\\/\\/|~\\/|\\/)?(?#Username:Password)(?:\\w+:\\w+@)?(?#Subdomains)(?:(?:[-\\w]+\\.)+(?#TopLevel Domains)(?:com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|museum|travel|[a-z]{2}))(?#Port)(?::[\\d]{1,5})?(?#Directories)(?:(?:(?:\\/(?:[-\\w~!$+|.,=]|%[a-f\\d]{2})+)+|\\/)+|\\?|#)?(?#Query)(?:(?:\\?(?:[-\\w~!$+|.,*:]|%[a-f\\d{2}])+=?(?:[-\\w~!$+|.,*:=]|%[a-f\\d]{2})*)(?:&(?:[-\\w~!$+|.,*:]|%[a-f\\d{2}])+=?(?:[-\\w~!$+|.,*:=]|%[a-f\\d]{2})*)*)*(?#Anchor)(?:#(?:[-\\w~!$+|.,*:=]|%[a-f\\d]{2})*)?)(?=($|<|{))",
      "repl": "$URL",
      "log": true
      }
  ]
  },
{
  "name": "tokenize",
  "ext" : "tok",
  "tool": {
    "zh_CN" : {
      "name": "stanford_segmenter",
      "model": "ctb",
      "keep_whitespace": true,
      "nbest": 0
    },
    "ja_JP" : {
      "name": "chasen"
    },
    "en_US" : {
      "name": "moses"
    },
    "fr_FR" : {
      "name": "moses"
    }
  }
  },
{
  "name": "regex",
  "ext" : "post_tok",
  "list": [
  {
    "description": "detoken placeholder",
    "action": "replace",
    "pattern": "{ (\\d+) }",
    "repl": "{\\1}"
    },
  {
    "description": "detoken parentheses",
    "action": "replace",
    "pattern": "\\(\\s+\\)",
    "repl": "()"
  },
  {
    "description": "detoken URL PH",
    "action": "replace",
    "pattern": "\\$ URL",
    "repl": "$URL"
  }
  ]
},
{
  "name": "length_limit",
  "ext" : "llimit",
  "source": [1, 80],
  "target": [1, 80],
  "log": true
},
{
  "name": "sentence_ratio",
  "ext" : "lratio",
  "ratio": 9,
  "log": true
},
{
  "name": "length_diff",
  "ext" : "ldiff",
  "diff": 20,
  "log": true
},
{
  "name": "lowercase",
  "ext" : "lower"
}
]
